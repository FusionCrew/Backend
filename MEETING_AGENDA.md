# ğŸ—£ï¸ íŒ€ íšŒì˜ ì•ˆê±´ - Entity êµ¬ì¡° í˜‘ì˜

## ğŸ“‹ ì •í•´ì•¼ í•˜ëŠ” Entity ëª©ë¡

### 1ï¸âƒ£ í•„ìˆ˜ Entity (ì´ 15ê°œ)

#### ğŸ‘¤ ì´ë‹¤í•˜ ë‹´ë‹¹ Entity

1. **Admin** - ê´€ë¦¬ì ê³„ì •
2. **Stock** - ì¬ê³ 
3. **Cart** - ì¥ë°”êµ¬ë‹ˆ
4. **CartItem** - ì¥ë°”êµ¬ë‹ˆ í•­ëª©
5. **Order** - ì£¼ë¬¸
6. **OrderItem** - ì£¼ë¬¸ í•­ëª©

#### ğŸ‘¤ ê¹€ë‚˜ì˜ ë‹´ë‹¹ Entity

7. **Menu** - ë©”ë‰´ (âš ï¸ ì´ë‹¤í•˜ì™€ ê³µìœ )
2. **Ingredient** - ì¬ë£Œ
3. **MenuIngredient** - ë©”ë‰´-ì¬ë£Œ ë§¤í•‘
4. **KioskSession** - í‚¤ì˜¤ìŠ¤í¬ ì„¸ì…˜
5. **Feedback** - ì‚¬ìš©ì í”¼ë“œë°±

#### ğŸ‘¤ ìœ í˜„ê³¤ ë‹´ë‹¹ Entity

12. **Payment** - ê²°ì œ (âš ï¸ ì´ë‹¤í•˜ì™€ ê³µìœ )
2. **Ticket** - ëŒ€ê¸°í‘œ (âš ï¸ ì´ë‹¤í•˜ì™€ ê³µìœ )
3. **StaffCall** - ì§ì›í˜¸ì¶œ (âš ï¸ ê¹€ë‚˜ì˜ê³¼ ê³µìœ )
4. **SessionEvent** - ì„¸ì…˜ ì´ë²¤íŠ¸

---

## âš ï¸ ì¶©ëŒ ìœ„í—˜ Entity (í˜‘ì˜ í•„ìˆ˜)

### ğŸ”´ 1. Menu (ê¹€ë‚˜ì˜ â†” ì´ë‹¤í•˜)

**ì‚¬ìš©ì²˜**:

- ê¹€ë‚˜ì˜: ë©”ë‰´ CRUD, ì¡°íšŒ, ì¶”ì²œ
- ì´ë‹¤í•˜: Orderì—ì„œ ë©”ë‰´ ì°¸ì¡°

**í˜‘ì˜ ì‚¬í•­**:

- [ ] Menu EntityëŠ” **ê¹€ë‚˜ì˜ì´ ìƒì„±**
- [ ] ì´ë‹¤í•˜ëŠ” `@ManyToOne`ìœ¼ë¡œ ì°¸ì¡°ë§Œ
- [ ] í•„ë“œ êµ¬ì¡° í•©ì˜:

  ```java
  - id (Long)
  - name (String)
  - price (Integer)
  - description (String)
  - category (String)
  - imageUrl (String)
  - isAvailable (Boolean)
  - allergyInfo (String)
  ```

---

### ğŸ”´ 2. Ticket (ì´ë‹¤í•˜ â†” ìœ í˜„ê³¤)

**ì‚¬ìš©ì²˜**:

- ì´ë‹¤í•˜: ëŒ€ê¸°í‘œ ë°œê¸‰/ì¡°íšŒ
- ìœ í˜„ê³¤: í‹°ì¼“ í˜¸ì¶œ/ì™„ë£Œ ì²˜ë¦¬

**í˜‘ì˜ ì‚¬í•­**:

- [ ] **ëˆ„ê°€ Entityë¥¼ ìƒì„±í• ì§€ ê²°ì •** (ìœ í˜„ê³¤ ì¶”ì²œ)
- [ ] í•„ë“œ êµ¬ì¡° í•©ì˜:

  ```java
  - id (Long)
  - ticketNumber (String)
  - orderId (Long) - Order ì°¸ì¡°
  - status (Enum: WAITING, CALLED, COMPLETED)
  - issuedAt (LocalDateTime)
  - calledAt (LocalDateTime)
  - completedAt (LocalDateTime)
  ```

- [ ] ì´ë‹¤í•˜ì™€ ìœ í˜„ê³¤ ì¤‘ ëˆ„ê°€ Repository/Service ì‘ì„±?
  - ì˜µì…˜ 1: ìœ í˜„ê³¤ì´ ì „ì²´ ê´€ë¦¬, ì´ë‹¤í•˜ëŠ” Service í˜¸ì¶œë§Œ
  - ì˜µì…˜ 2: ê°ì ìê¸° ê¸°ëŠ¥ë§Œ Service ì‘ì„±

---

### ğŸ”´ 3. Payment (ìœ í˜„ê³¤ â†” ì´ë‹¤í•˜)

**ì‚¬ìš©ì²˜**:

- ìœ í˜„ê³¤: ê²°ì œ ì‹œìŠ¤í…œ ì „ì²´
- ì´ë‹¤í•˜: Orderì—ì„œ ê²°ì œ ì°¸ì¡°

**í˜‘ì˜ ì‚¬í•­**:

- [ ] Payment EntityëŠ” **ìœ í˜„ê³¤ì´ ìƒì„±**
- [ ] ì´ë‹¤í•˜ëŠ” Orderì— `paymentId` í•„ë“œë§Œ ì¶”ê°€
- [ ] í•„ë“œ êµ¬ì¡° í•©ì˜:

  ```java
  - id (Long)
  - orderId (Long)
  - amount (Integer)
  - paymentMethod (Enum: CARD, CASH, QR)
  - status (Enum: PENDING, COMPLETED, FAILED, CANCELLED)
  - paidAt (LocalDateTime)
  ```

- [ ] Order â†” Payment ì—°ë™ ë°©ì‹:
  - ì˜µì…˜ 1: Orderì— `paymentId` ì €ì¥
  - ì˜µì…˜ 2: Paymentì— `orderId` ì €ì¥
  - ì˜µì…˜ 3: ì–‘ë°©í–¥ ì°¸ì¡°

---

### ğŸŸ¡ 4. StaffCall (ê¹€ë‚˜ì˜ â†” ìœ í˜„ê³¤)

**ì‚¬ìš©ì²˜**:

- ê¹€ë‚˜ì˜: ì§ì›í˜¸ì¶œ ìš”ì²­
- ìœ í˜„ê³¤: ì§ì›í˜¸ì¶œ ì²˜ë¦¬

**í˜‘ì˜ ì‚¬í•­**:

- [ ] StaffCall EntityëŠ” **ìœ í˜„ê³¤ì´ ìƒì„±**
- [ ] ê¹€ë‚˜ì˜ì€ ì°¸ì¡°ë§Œ
- [ ] í•„ë“œ êµ¬ì¡° í•©ì˜:

  ```java
  - id (Long)
  - kioskSessionId (Long)
  - reason (String)
  - status (Enum: PENDING, RESOLVED)
  - requestedAt (LocalDateTime)
  - resolvedAt (LocalDateTime)
  ```

---

## ğŸ”— Entity ê´€ê³„ë„

```
Admin (ì´ë‹¤í•˜)
  â†“ 1:N
Stock (ì´ë‹¤í•˜)

Menu (ê¹€ë‚˜ì˜) â†â”€â”€â”€â”€â”€â”
  â†“ 1:N              â”‚ ì°¸ì¡°
MenuIngredient       â”‚
  â†“ N:1              â”‚
Ingredient (ê¹€ë‚˜ì˜)  â”‚
                     â”‚
Cart (ì´ë‹¤í•˜)        â”‚
  â†“ 1:N              â”‚
CartItem â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Menu
  
Order (ì´ë‹¤í•˜) â”€â”€â”€â”€â”€â”€â†’ Menu (ì°¸ì¡°)
  â†“ 1:N              â†“ 1:1
OrderItem            Payment (ìœ í˜„ê³¤)
  â†“ 1:1
Ticket (ìœ í˜„ê³¤ or ì´ë‹¤í•˜)

KioskSession (ê¹€ë‚˜ì˜)
  â†“ 1:N
SessionEvent (ìœ í˜„ê³¤)
  â†“ 1:N
StaffCall (ìœ í˜„ê³¤) â†â”€â”€ ê¹€ë‚˜ì˜ ìš”ì²­

Feedback (ê¹€ë‚˜ì˜)
```

---

## ğŸ“ íšŒì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1ë‹¨ê³„: Entity ë‹´ë‹¹ì í™•ì •

- [ ] Menu â†’ **ê¹€ë‚˜ì˜**
- [ ] Ticket â†’ **ìœ í˜„ê³¤** or **ì´ë‹¤í•˜** (ê²°ì • í•„ìš”)
- [ ] Payment â†’ **ìœ í˜„ê³¤**
- [ ] StaffCall â†’ **ìœ í˜„ê³¤**

### 2ë‹¨ê³„: í•„ë“œ êµ¬ì¡° í•©ì˜

- [ ] Menu í•„ë“œ í™•ì •
- [ ] Ticket í•„ë“œ í™•ì •
- [ ] Payment í•„ë“œ í™•ì •
- [ ] Order â†” Payment ì—°ë™ ë°©ì‹ ê²°ì •

### 3ë‹¨ê³„: ê´€ê³„ ì„¤ì • í•©ì˜

- [ ] Order â†’ Menu ê´€ê³„ (`@ManyToOne`)
- [ ] Order â†’ Payment ê´€ê³„ (1:1 or FKë§Œ)
- [ ] Order â†’ Ticket ê´€ê³„ (1:1)
- [ ] Cart â†’ Menu ê´€ê³„ (`@ManyToOne`)

### 4ë‹¨ê³„: ì‘ì—… ìˆœì„œ ê²°ì •

- [ ] 1ìˆœìœ„: ê¹€ë‚˜ì˜ (Menu, Ingredient)
- [ ] 2ìˆœìœ„: ìœ í˜„ê³¤ (Payment, StaffCall, Ticket)
- [ ] 3ìˆœìœ„: ì´ë‹¤í•˜ (Order, Cart - Menu/Payment ì°¸ì¡°)

---

## ğŸ’¬ ê° ë‹´ë‹¹ìì—ê²Œ ë¬¼ì–´ë³¼ ì§ˆë¬¸

### ğŸ‘¤ ì´ë‹¤í•˜ì—ê²Œ

1. **Ticket Entityë¥¼ ì§ì ‘ ë§Œë“¤ ê±´ê°€ìš”, ì•„ë‹ˆë©´ ìœ í˜„ê³¤ ê²ƒì„ ì°¸ì¡°í•  ê±´ê°€ìš”?**
   - ì§ì ‘ ë§Œë“¤ë©´: ë°œê¸‰/ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„
   - ì°¸ì¡°í•˜ë©´: ìœ í˜„ê³¤ Service í˜¸ì¶œë§Œ

2. **Orderì™€ Payment ì—°ë™ ë°©ì‹ì€?**
   - Orderì— `paymentId` ì €ì¥?
   - Paymentì— `orderId` ì €ì¥?
   - ì–‘ë°©í–¥?

3. **Cartì™€ Orderì—ì„œ Menuë¥¼ ì–´ë–»ê²Œ ì°¸ì¡°í•  ê±´ê°€ìš”?**
   - `@ManyToOne` ì‚¬ìš©?
   - Menu IDë§Œ ì €ì¥?

---

### ğŸ‘¤ ê¹€ë‚˜ì˜ì—ê²Œ

1. **Menu Entity í•„ë“œ êµ¬ì¡°ëŠ”?**
   - ê°€ê²©, ì´ë¦„, ì„¤ëª…, ì¹´í…Œê³ ë¦¬, ì´ë¯¸ì§€, ì•Œë ˆë¥´ê¸° ì •ë³´ ë“±
   - ì¶”ì²œ ë©”ë‰´ ê´€ë ¨ í•„ë“œ í•„ìš”?

2. **Ingredientì™€ Menu ê´€ê³„ëŠ”?**
   - MenuIngredient ì¤‘ê°„ í…Œì´ë¸” ì‚¬ìš©?
   - ì•Œë ˆë¥´ê¸° í•„í„°ë§ ë°©ì‹ì€?

3. **StaffCall ìš”ì²­ ì‹œ ì–´ë–¤ ì •ë³´ê°€ í•„ìš”í•œê°€ìš”?**
   - ì„¸ì…˜ ID, ìš”ì²­ ì‚¬ìœ , ìœ„ì¹˜ ë“±

---

### ğŸ‘¤ ìœ í˜„ê³¤ì—ê²Œ

1. **Ticket Entityë¥¼ ë§Œë“¤ ê±´ê°€ìš”?**
   - ì´ë‹¤í•˜ì™€ ê³µìœ í•˜ëŠ” Entity
   - ë°œê¸‰(ì´ë‹¤í•˜) vs í˜¸ì¶œ/ì™„ë£Œ(ìœ í˜„ê³¤) ë¶„ë¦¬ ë°©ë²•ì€?

2. **Payment í•„ë“œ êµ¬ì¡°ëŠ”?**
   - ê²°ì œ ë°©ë²•, ê¸ˆì•¡, ìƒíƒœ, ì‹œê°„ ë“±
   - Orderì™€ ì—°ë™ ë°©ì‹ì€?

3. **StaffCallê³¼ SessionEvent ê´€ê³„ëŠ”?**
   - SessionEventì—ì„œ StaffCall ì¶”ì ?

---

### ğŸ‘¤ ì´ëŒ€ì—°ì—ê²Œ

1. **FastAPI í”„ë¡ì‹œëŠ” ì–´ë–¤ Entityê°€ í•„ìš”í•œê°€ìš”?**
   - AI ë¡œê·¸ ì €ì¥ìš© Entity?
   - ì•„ë‹ˆë©´ ë‹¨ìˆœ í”„ë¡ì‹œë§Œ?

2. **AI ì„œë²„ì™€ í†µì‹  ì‹œ ì–´ë–¤ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ë‚˜ìš”?**
   - ë©”ë‰´ ì¶”ì²œ, STT/TTS ë“±

---

## ğŸ¯ íšŒì˜ ê²°ê³¼ ì •ë¦¬ ì–‘ì‹

```markdown
## Entity ë‹´ë‹¹ì í™•ì •
- Menu: ê¹€ë‚˜ì˜
- Ticket: _____ (ê²°ì •)
- Payment: ìœ í˜„ê³¤
- StaffCall: ìœ í˜„ê³¤

## ê´€ê³„ ì„¤ì •
- Order â†’ Menu: @ManyToOne
- Order â†’ Payment: _____ (ê²°ì •)
- Order â†’ Ticket: _____ (ê²°ì •)

## ì‘ì—… ìˆœì„œ
1. ê¹€ë‚˜ì˜: Menu, Ingredient
2. ìœ í˜„ê³¤: Payment, Ticket(?), StaffCall
3. ì´ë‹¤í•˜: Order, Cart
4. ì´ëŒ€ì—°: AI í”„ë¡ì‹œ
```

---

**ì´ ë¬¸ì„œë¥¼ íŒ€ íšŒì˜ì—ì„œ í•¨ê»˜ ë³´ë©´ì„œ í•˜ë‚˜ì”© ì²´í¬í•˜ì„¸ìš”!** âœ…
